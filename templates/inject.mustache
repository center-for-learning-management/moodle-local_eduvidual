 {{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
  }}

{{#courseEditPage}}
    {{! We do not want to see the course shortname field. }}
    {{#js}}
        require(['jquery'], function($) {
            {{^issiteadmin}}
                $('#fitem_id_shortname').css('display', 'none');
            {{/issiteadmin}}
            if ($('#fitem_id_shortname #id_shortname').val() == '') {
                var d = new Date();
                $('#fitem_id_shortname #id_shortname').val({{userid}} + '-' + Date.now());
            }
        });
    {{/js}}
{{/courseEditPage}}


{{#signupPage}}
    {{! We do not want the username field on the signup-page. }}
    {{#js}}
    $('#fitem_id_username label[for="id_username"]').html('{{#str}} email {{/str}}');
    $('#fitem_id_username #id_username').attr('onkeyup', "document.getElementById('id_email').value = document.getElementById('id_username').value;");
    $('#fitem_id_email').css('display', 'none');
    $('form[action*="/login/signup.php"]').attr("onsubmit", "document.getElementById('id_email').value = document.getElementById('id_username').value;");
    {{/js}}
{{/signupPage}}
